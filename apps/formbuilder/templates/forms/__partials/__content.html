{% load static i18n widget_tweaks %}
<div class="row">
    <div class="col-xl-12 col-md-12 col-sm-12 col-12">
        <h4>{% trans 'Content' %}</h4>
    </div>
</div>
<div class="form-group mb-4">
    {{form.active|add_error_attr:"class:is-invalid"}}
    {{ form.active|add_label_class:'' }}
</div>
<div class="form-group mb-4">
    {{ form.name|add_label_class:'' }}
    {{form.name|append_attr:"class:form-control"|add_error_attr:"class:is-invalid"}}     
    {% if form.name.errors %}
        <div class="invalid-feedback">
            {{form.name.errors}}
        </div>
    {% endif %}   
</div>
<div class="form-group mb-4">
    {{form.store_results|add_error_attr:"class:is-invalid"}}    
    {{ form.store_results|add_label_class:'' }} 
    {% if form.store_results.errors %}
        <div class="invalid-feedback">
            {{form.store_results.errors}}
        </div>
    {% endif %}   
</div>
<div class="form-group mb-4">
    {{ form.success_type|add_label_class:'' }}
    {{form.success_type|append_attr:"class:form-control"|add_error_attr:"class:is-invalid"}}     
    {% if form.success_type.errors %}
        <div class="invalid-feedback">
            {{form.success_type.errors}}
        </div>
    {% endif %}   
</div>
<div class="form-group mb-4 success-action">
    {{ form.success_action|add_label_class:'' }}
    {{form.success_action|append_attr:"class:form-control"|add_error_attr:"class:is-invalid"}}     
    {% if form.success_action.errors %}
        <div class="invalid-feedback">
            {{form.success_action.errors}}
        </div>
    {% endif %}   
</div>
<div class="form-group mb-4 success-url">
    {{ form.success_url|add_label_class:'' }}
    {{form.success_url|append_attr:"class:form-control"|add_error_attr:"class:is-invalid"}}     
    {% if form.success_url.errors %}
        <div class="invalid-feedback">
            {{form.success_url.errors}}
        </div>
    {% endif %}   
</div>
<div class="form-group mb-4 success-message">
    {{ form.success_message|add_label_class:'' }}
    {{form.success_message|append_attr:"class:form-control"|add_error_attr:"class:is-invalid"}}     
    {% if form.success_message.errors %}
        <div class="invalid-feedback">
            {{form.success_message.errors}}
        </div>
    {% endif %}   
</div>
<script src="{% static 'admin/js/libs/jquery-3.6.0.min.js' %}"></script>
<script>
    $( document ).ready(function() {
       value = $('#id_success_type').val();
       if(value == 'message'){
            $('.success-action').css('display','none');
            $('.success-url').css('display', 'none');
       } else {
           if(value == 'action'){
                $('.success-url').css('display', 'none');
                $('.success-message').css('display','none');
           } else {
               if(value == 'redirect'){
                    $('.success-message').css('display','none');
                    $('.success-action').css('display','none');
               }
           }
       }
    });
    $('#id_success_type').on('change', function() {
        value = $(this).val();
        console.log(value);
       if(value == 'message'){
            $('.success-action').css('display','none');
            $('.success-url').css('display', 'none');
            $('.success-message').css('display','block');
       } else {
           if(value == 'action'){
                $('.success-url').css('display', 'none');
                $('.success-message').css('display','none');
                $('.success-action').css('display','block');
           } else {
               if(value == 'redirect'){
                    $('.success-message').css('display','none');
                    $('.success-action').css('display','none');
                    $('.success-url').css('display', 'block');
               }
           }
       }
    });
</script>





